import os
import discord
from discord.ext import commands
from discord import app_commands
from discord import FFmpegPCMAudio
from dotenv import load_dotenv
import json




load_dotenv()
TOKEN = os.getenv("DISCORD_TOKEN")

intents = discord.Intents.default()
intents.message_content = True

queues = {}

def check_queue(ctx, id):
    if queues[id] != []:
        voice = ctx.guild.voice_client
        source = queues[id].pop(0)
        player = voice.play(source)

bot = commands.Bot(command_prefix= '!', intents=intents)

# event comands 
# / slash comands
@bot.event
async def on_ready():
    await bot.tree.sync()
    print(f"{bot.user} is online!")

# slash command /greet
@bot.tree.command(name="greet", description="Sends a greeting to the user")
async def greet(interaction: discord.Interaction):
    username = interaction.user.mention
    await interaction.response.send_message(f"Hello there, {username}")
